-- Test: Passing Struct Field as Argument
-- Expected: 9.0

type Point
{
    f32 x, y

    new(f32 xVal, f32 yVal)
    {
        x = xVal
        y = yVal
    }
}

type Vector3
{
    f32 x, y, z

    new(Point p, f32 zVal)
    {
        x = p.x
        y = p.y
        z = zVal
    }
}

type Rectangle
{
    Point topLeft
    Point bottomRight

    new(Point tl, Point br)
    {
        topLeft = tl
        bottomRight = br
    }
}

fn Main_f32_
{
    var rect = new Rectangle(new Point(1.0, 2.0), new Point(3.0, 4.0))

    -- Pass struct field as argument
    var v1 = new Vector3(rect.topLeft, 5.0)
    var v2 = new Vector3(rect.bottomRight, 6.0)

    -- Should return 1 + 2 + 5 - 3 + 4 = 9
    return v1.x + v1.y + v1.z - v2.x + v2.y
}
